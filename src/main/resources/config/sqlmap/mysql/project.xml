<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.lac.repository.mapper.ProjectMapper">
	<resultMap id="projectMap" type="project">
		<result column="project_no" property="projectNo"></result>
		<result column="created_user_no" property="createdUserNo"></result>
		<result column="maseter_user_no" property="maseterUserNo"></result>
		<result column="project_info" property="projectInfo"></result>
		<result column="project_name" property="projectName"></result>
		<result column="project_pic" property="projectPic"></result>
	</resultMap>

	<insert id="insertProject" parameterType="project">
		<selectKey keyProperty="projectNo" resultType="int" order="BEFORE">
			select MAX(project_no)+1 from tb_project
		</selectKey>
		insert into tb_project(
		created_user_no,
		maseter_user_no,
		project_name
		)values(
		#{userNo},
		#{userNo},
		#{projectName}
		)
	</insert>
	<insert id="insertProjectParticipant" parameterType="project">
		insert into tb_project_participant(
		project_no,
		user_no
		)values(
		#{projectNo},
		#{userNo}
		)
	</insert>

</mapper>